!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";var n=t(1),o=t(2);e.exports="dragularModule",angular.module("dragularModule",[]).factory("dragularService",o).directive("dragular",n)},function(e,r){"use strict";var t=function(e){return{restrict:"A",link:function(r,t,n){function o(e){try{return JSON.parse(e)}catch(r){return}}var i,a=r.$eval(n.dragular)||o(n.dragular)||{};a&&a.containersModel&&"string"==typeof a.containersModel&&(a.containersModel=r.$eval(a.containersModel)),a&&a.dynamicModelAttribute?r.$watch(function(){return r.$eval(n.dragularModel)},function(e){e&&(i.containersModel=i.sanitizeContainersModel(r.$eval(e)))}):n.dragularModel&&(a.containersModel=r.$eval(n.dragularModel)),n.dragularNameSpace&&(a.nameSpace=n.dragularNameSpace.split(" ")),i=e(t[0],a)}}};t.$inject=["dragularService"],e.exports=t},function(e,r){(function(r){"use strict";var t={classesCache:{},containersCtx:{},containers:{},mirror:null,source:null,item:null,copy:null,sourceItem:null,sourceModel:null,sourceFilteredModel:null,target:null,targetCtx:null,targetModel:null,lastDropTarget:null,offsetX:null,offsetY:null,moveX:null,moveY:null,offsetXr:null,offsetYb:null,clientX:null,clientY:null,mirrorWidth:null,mirrorHeight:null,initialSibling:null,currentSibling:null,initialIndex:null,currentIndex:null,tempModel:null,dragOverEvents:{},lastElementBehindCursor:null,grabbed:null},n=function(e,n){function o(r,o){function d(e){return"function"==typeof e?e:Array.isArray(e)?Array.isArray(e[0])?e:[e]:[]}function y(){1!==arguments.length||Array.isArray(r)||angular.isElement(r)||r[0]||"string"==typeof r?"string"==typeof r&&(ce=document.querySelectorAll(r)):(ue=r||{},ce=[]),le=ue.copyOptions?angular.copy(ue):ue}function b(){var e=angular.extend({},ge,le);angular.extend(le,e),le.classes&&(e=angular.extend({},de,le.classes),angular.extend(le.classes,e)),le.eventNames&&(e=angular.extend({},me,le.eventNames),angular.extend(le.eventNames,e))}function N(){h(le.boundingBox)||(le.boundingBox=!1),le.containers&&(ce=le.containers),ce=c(ce),le.containersModel=d(le.containersModel),Array.isArray(le.containersFilteredModel)?le.containersFilteredModel=Array.isArray(le.containersFilteredModel[0])?le.containersFilteredModel:[le.containersFilteredModel]:le.containersFilteredModel=[],le.nameSpace||(le.nameSpace=["dragularCommon"]),Array.isArray(le.nameSpace)||(le.nameSpace=[le.nameSpace]),le.nameSpace.forEach(function(e){t.containers[e]||(t.containers[e]=[],t.containersCtx[e]=[]);for(var r=ce.length,n=t.containers[e].length,o=0;r>o;o++)t.containers[e][o+n]=ce[o],t.containersCtx[e][o+n]={o:le,m:F()[o],fm:le.containersFilteredModel[o]}})}function A(e){var r=e?"off":"on";i(T,r,"mouseup",B),ce.forEach(function(e){i(e,"on","mousedown",$)}),e||angular.forEach(["dragularenter","dragularleave","dragularrelease"],function(e){var r=le.eventNames[e];t.dragOverEvents[r]||(O.createEvent?(t.dragOverEvents[r]=O.createEvent("HTMLEvents"),t.dragOverEvents[r].initEvent(r,!0,!0)):(t.dragOverEvents[r]=O.createEventObject(),t.dragOverEvents[r].eventType=r))})}function $(e){if(1===u(e)&&!e.metaKey&&!e.ctrlKey){t.moveX=e.clientX,t.moveY=e.clientY;var r=j(e.target);r&&r.item&&(t.grabbed=r,H(),"mousedown"===e.type&&(S(r.item)?r.item.focus():e.preventDefault()))}}function B(e){if(K(),fe.dragging){e.originalEvent&&(e=e.originalEvent),t.clientX=E("clientX",e),t.clientY=E("clientY",e);var r=ae(t.mirror,t.clientX,t.clientY),n=V(r,t.clientX,t.clientY);n&&(t.copy&&se(le.copySortSource)||!t.copy||n!==t.source)?U(t.item,n):se(le.removeOnSpill)?q():J(),t.target=null,t.lastElementBehindCursor&&Y(t.lastElementBehindCursor,t.dragOverEvents.dragularrelease,r),le.scope&&le.scope.$emit(le.eventNames.dragularrelease,t.item,t.source)}}function w(e){if(!e)return!1;for(var r=le.nameSpace.length;r--;)if(-1!==t.containers[le.nameSpace[r]].indexOf(e))return!0;return le.isContainer(e)?(t.tempModel=le.isContainerModel(e),!0):(t.tempModel=null,!1)}function F(){return"function"==typeof le.containersModel?d(le.containersModel(fe,t)):le.containersModel}function D(r){e.$applyAsync(function(){var e=Array.isArray(r)?r:c(r);e.forEach(function(e){angular.forEach(le.nameSpace,function(r){var n;n=t.containers[r].indexOf(e),t.containers[r].splice(n,1),t.containersCtx[r].splice(n,1)})})})}function H(e){var r=e?"off":"on";i(T,r,"mousemove",R)}function P(e){var r=e?"off":"on";i(T,r,"selectstart",s),i(T,r,"click",s),i(T,r,"touchmove",s)}function k(){A(!0),D(ce),B({})}function R(e){if(t.grabbed&&!fe.dragging){if(e.originalEvent&&(e=e.originalEvent),0===u(e))return void B({});if(!e.clientX||e.clientX!==t.moveX||!e.clientY||e.clientY!==t.moveY){if(se(le.ignoreInputTextSelection)){var r=E("clientX",e),n=E("clientY",e),o=O.elementFromPoint(r,n);if(S(o))return}var i=t.grabbed;if(H("remove"),P(),z(),W(i),!le.direction&&C(t.sourceItem)){var a=t.sourceItem.parentNode,l=a.offsetHeight,c=a.offsetWidth,s=t.sourceItem.clientHeight,d=t.sourceItem.clientWidth;le.direction=c/d>l/s?"horizontal":"vertical"}var g=m(t.sourceItem);t.offsetX=E("pageX",e)-g.left,t.offsetY=E("pageY",e)-g.top,t.clientX=E("clientX",e),t.clientY=E("clientY",e),le.boundingBox&&(t.offsetXr=E("pageX",e)-g.right,t.offsetYb=E("pageY",e)-g.bottom),e.preventDefault(),x(t.item,le.classes.transit),te(),t.mirror.style.left=t.clientX-t.offsetX+"px",t.mirror.style.top=t.clientY-t.offsetY+"px",Z(e)}}}function j(e){if(!fe.dragging||!t.mirror){for(var r=e;C(e)&&!w(C(e));){if(le.invalid(e,r))return;if(e=C(e),!e)return}var n=C(e);if(n&&!le.invalid(e,r)&&le.moves(e,n,r,v(e)))return{item:e,source:n}}}function L(e){var r=j(e);r&&W(r)}function W(e){t.sourceItem=t.item=e.item,t.source=e.source,t.initialSibling=t.currentSibling=v(e.item),se(le.copy,[e.item,e.source])?(t.item=e.item.cloneNode(!0),t.copy=!0,le.scope&&le.scope.$emit(le.eventNames.dragularcloned,t.item,e.item)):t.copy=!1;var r=ce.indexOf(e.source);return t.sourceModel=F()[r],t.sourceFilteredModel=le.containersFilteredModel[r],t.initialIndex=X(e.item,e.source),fe.dragging=!0,le.scope&&le.scope.$emit(le.eventNames.dragulardrag,t.sourceItem,t.source),!0}function z(){fe.dragging&&t.item&&U(t.item,C(t.item))}function K(){t.grabbed=!1,H("remove"),P("remove")}function U(r,o){function i(){if(le.compileItemOnDrop){var e=angular.element(o).scope();e.$applyAsync(function(){var i=n(t.copy?a.cloneNode(!0):a)(e);r.parentNode===o&&o.removeChild(r),o.insertBefore(i[0],l)})}le.scope&&(Q(o)?le.scope.$emit(le.eventNames.dragularcancel,r,t.source,t.sourceModel,t.initialIndex):le.scope.$emit(le.eventNames.dragulardrop,r,o,t.source,t.sourceModel,t.initialIndex,t.targetModel,c)),G()}var a=t.sourceItem,l=t.currentSibling;if(t.copy&&se(le.copySortSource)&&o===t.source&&C(r)&&r.parentNode.removeChild(t.sourceItem),t.sourceModel&&!Q(o)){var c=X(r,o);t.targetCtx.fm&&(c=t.targetCtx.m.indexOf(t.targetCtx.fm[c])),t.sourceFilteredModel&&(t.initialIndex=t.sourceModel.indexOf(t.sourceFilteredModel[t.initialIndex])),e.$applyAsync(function(){t.sourceModel&&(o===t.source?t.sourceModel.splice(c,0,t.sourceModel.splice(t.initialIndex,1)[0]):(t.dropElmModel=t.copy&&!le.dontCopyModel?angular.copy(t.sourceModel[t.initialIndex]):t.sourceModel[t.initialIndex],t.tempModel?t.targetModel=t.tempModel:t.targetModel=t.targetCtx.m,o.removeChild(r),t.copy||t.sourceModel.splice(t.initialIndex,1),t.targetModel.splice(c,0,t.dropElmModel)),C(r)&&r.parentNode.removeChild(r),i())})}else i()}function q(){if(fe.dragging){var r=C(t.item);r&&r.removeChild(t.item),t.sourceModel&&e.$applyAsync(function(){t.sourceModel.splice(t.initialIndex,1),G()}),le.scope&&le.scope.$emit(t.copy?le.eventNames.dragularcancel:le.eventNames.dragularremove,t.item,r,t.sourceModel,t.initialIndex),t.sourceModel||G()}}function J(e){if(fe.dragging){var r=arguments.length>0?e:se(le.revertOnSpill),n=C(t.item),o=Q(n);o||t.copy||!r||t.source.insertBefore(t.item,t.initialSibling),!t.sourceModel||t.copy||r?le.scope&&(o||r)&&le.scope.$emit(le.eventNames.dragularcancel,t.item,t.source):U(t.item,n),(!t.sourceModel||t.copy||r||o)&&G()}}function G(){K(),ne(),t.item&&M(t.item,le.classes.transit),fe.dragging=!1,se(le.removeOnSpill)===!0&&ee(),le.scope&&(t.lastDropTarget&&le.scope.$emit(le.eventNames.dragularout,t.item,t.lastDropTarget,t.source),le.scope.$emit(le.eventNames.dragulardragend,t.item)),t.source=t.item=t.sourceItem=t.initialSibling=t.currentSibling=t.sourceModel=null,t.initialIndex=t.currentIndex=t.lastDropTarget=t.tempModel=t.targetModel=null,t.dropElmModel=t.targetCtx=t.copy=t.moveX=t.moveY=null}function Q(e,r){var n=r||(t.mirror?t.currentSibling:v(t.item));return e===t.source&&n===t.initialSibling}function V(e,r,n){function o(){var o=!1;if(w(i)){for(var a=oe(i,e),l=ie(i,a,r,n),c=Q(i,l),u=le.nameSpace.length;u--;){if(-1!==t.containers[le.nameSpace[u]].indexOf(i)){t.targetCtx=t.containersCtx[le.nameSpace[u]][t.containers[le.nameSpace[u]].indexOf(i)];break}t.targetCtx||(t.targetCtx=t.containersCtx.dragularCommon[t.containers.dragularCommon.indexOf(i)])}o=c||t.targetCtx.o.accepts(t.item,i,t.source,l,t.sourceModel,t.initialIndex)&&le.canBeAccepted(t.item,i,t.source,l,t.sourceModel,t.initialIndex),t.target!==i&&(t.target=i)}return o}for(var i=e;i&&!o();)i=C(i);return i}function Z(e){function r(e){le.scope&&le.scope.$emit(le.eventNames["dragular"+e],t.item,t.lastDropTarget,t.source),se(le.removeOnSpill)===!0&&("over"===e?_():ee())}if(t.mirror){e.originalEvent&&(e=e.originalEvent),t.clientX=E("clientX",e),t.clientY=E("clientY",e);var n,o,i,a=t.clientX-t.offsetX,l=t.clientY-t.offsetY;le.boundingBox&&(n=E("pageX",e),o=E("pageY",e),i=m(le.boundingBox)),le.lockY||(!le.boundingBox||n>i.left+t.offsetX&&n<i.right+t.offsetXr?t.mirror.style.left=a+"px":le.boundingBox&&(n<i.left+t.offsetX?t.mirror.style.left=t.clientX-(n-i.left)+"px":t.mirror.style.left=t.clientX-t.mirrorWidth-(n-i.right)+"px")),le.lockX||(!le.boundingBox||o>i.top+t.offsetY&&o<i.bottom+t.offsetYb?t.mirror.style.top=l+"px":le.boundingBox&&(o<i.top+t.offsetY?t.mirror.style.top=t.clientY-(o-i.top)+"px":t.mirror.style.top=t.clientY-t.mirrorHeight-(o-i.bottom)+"px"));var c=ae(t.mirror,t.clientX,t.clientY),u=V(c,t.clientX,t.clientY),s=u!==t.lastDropTarget;if(c!==t.lastElementBehindCursor&&(Y(c,t.dragOverEvents.dragularenter,!!u),t.lastElementBehindCursor&&Y(t.lastElementBehindCursor,t.dragOverEvents.dragularleave,c),t.lastElementBehindCursor=c),s&&(t.lastDropTarget&&r("out"),t.lastDropTarget=u,r("over")),u===t.source&&t.copy&&!se(le.copySortSource))return void(C(t.item)&&t.item.parentNode.removeChild(t.item));var d,g=oe(u,c);if(null!==g)d=ie(u,g,t.clientX,t.clientY);else{if(se(le.revertOnSpill)!==!0||t.copy)return void(t.copy&&C(t.item)&&t.item.parentNode.removeChild(t.item));d=t.initialSibling,u=t.source}(null===d||d!==t.item&&d!==v(t.item)&&d!==t.currentSibling)&&(t.currentSibling=d,u.insertBefore(t.item,d),le.scope&&le.scope.$emit(le.eventNames.dragularshadow,t.item,u))}}function _(){M(t.item,le.classes.hide)}function ee(){fe.dragging&&x(t.item,le.classes.hide)}function re(e){if(t.target){e.originalEvent&&(e=e.originalEvent);var r=t.target.scrollTop;t.target.scrollTop+=e.deltaY,r!==t.target.scrollTop&&(e.stopPropagation(),e.preventDefault())}}function te(){if(!t.mirror){var e=t.sourceItem.getBoundingClientRect();t.mirror=t.sourceItem.cloneNode(!0),t.mirrorWidth=e.width,t.mirrorHeight=e.height,t.mirror.style.width=g(e)+"px",t.mirror.style.height=f(e)+"px",M(t.mirror,le.classes.transit),x(t.mirror,le.classes.mirror),le.mirrorContainer.appendChild(t.mirror),i(T,"on","mousemove",Z),x(O.body,le.classes.unselectable),i(t.mirror,"on","wheel",re),le.scope&&le.scope.$emit(le.eventNames.dragularcloned,t.mirror,t.sourceItem)}}function ne(){t.mirror&&(M(O.body,le.classes.unselectable),i(T,"off","mousemove",Z),i(t.mirror,"off","wheel",re),C(t.mirror)&&t.mirror.parentNode.removeChild(t.mirror),t.mirror=null)}function oe(e,r){for(var t=r;t!==e&&C(t)!==e;)t=C(t);return t===T?null:t}function ie(e,r,t,n){function o(){var r,o,i,a=e.children.length;for(r=0;a>r;r++){if(o=e.children[r],i=o.getBoundingClientRect(),l&&i.left>t)return o;if(!l&&i.top>n)return o}return null}function i(){var e=r.getBoundingClientRect();return a(l?t>e.left+g(e)/2:n>e.top+f(e)/2)}function a(e){return e?v(r):r}var l="horizontal"===le.direction;return r!==e?i():o()}function ae(e,r,t){var n,o=e||{},i=o.className;return o.className+=" "+le.classes.hide,n=O.elementFromPoint(r,t),o.className=i,n}var le,ce=r||[],ue=o||{},se=I,de={mirror:"gu-mirror",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit"},me={dragularenter:"dragularenter",dragularleave:"dragularleave",dragularrelease:"dragularrelease",dragularcloned:"dragularcloned",dragulardrag:"dragulardrag",dragularcancel:"dragularcancel",dragulardrop:"dragulardrop",dragularremove:"dragularremove",dragulardragend:"dragulardragend",dragularshadow:"dragularshadow",dragularover:"dragularover",dragularout:"dragularout"},ge={copyOptions:!1,classes:de,eventNames:me,containers:!1,containersModel:!1,containersFilteredModel:!1,isContainer:a,isContainerModel:p,moves:l,accepts:l,canBeAccepted:l,copy:!1,copySortSource:!1,dontCopyModel:!1,invalid:a,revertOnSpill:!1,removeOnSpill:!1,lockX:!1,lockY:!1,boundingBox:!1,mirrorContainer:O.body,ignoreInputTextSelection:!0,compileItemOnDrop:!1},fe={containers:t.containers,containersCtx:t.containersCtx,sanitizeContainersModel:d,isContainer:w,start:L,end:z,cancel:J,remove:q,destroy:k,dragging:!1};return y(),b(),N(),A(),fe}function i(e,t,n,o){var i={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},a={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},l={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"},c=angular.element(e);r.navigator.pointerEnabled&&a[n]?c[t](a[n],o):r.navigator.msPointerEnabled&&l[n]?c[t](l[n],o):i[n]&&c[t](i[n],o),c[t](n,o)}function a(){return!1}function l(){return!0}function c(e,r){return Array.isArray(e)?e:e.length?Array.prototype.slice.call(e,r):[e]}function u(e){if(e.touches)return e.touches.length;if(e.originalEvent&&e.originalEvent.touches)return e.originalEvent.touches.length;if(void 0!==e.buttons)return e.buttons;if(void 0!==e.which)return e.which;var r=e.button;return void 0!==r?1&r?1:2&r?3:4&r?2:0:void 0}function s(e){e.originalEvent&&(e=e.originalEvent),t.grabbed&&e.preventDefault()}function d(e,r){return"undefined"!=typeof window[r]?window[r]:T.clientHeight?T[e]:O.body[e]}function m(e){var r=e.getBoundingClientRect(),t=d("scrollTop","pageYOffset"),n=d("scrollLeft","pageXOffset");return{left:r.left+n,right:r.right+n,top:r.top+t,bottom:r.bottom+t}}function g(e){return e.width||e.right-e.left}function f(e){return e.height||e.bottom-e.top}function p(){return{}}function v(e){function r(){var r=e;do r=r.nextSibling;while(r&&1!==r.nodeType);return r}return e.nextElementSibling||r()}function h(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function y(e){var r=t.classesCache[e];return r?r.lastIndex=0:t.classesCache[e]=r=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),r}function x(e,r){var t=e.className;t.length?y(r).test(t)||(e.className+=" "+r):e.className=r}function M(e,r){e.className=e.className.replace(y(r)," ").trim()}function b(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function E(e,r){var t=b(r),n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),!t.type||t.type.indexOf("touch")<0?t[e]:-1===t.type.indexOf("end")?t.originalEvent.touches[0][e.replace("client","page")]:!1}function C(e){return e.parentNode===document?null:e.parentNode}function S(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||N(e)}function N(e){return e?"false"===e.contentEditable?!1:"true"===e.contentEditable?!0:N(C(e)):!1}function X(e,r){return Array.prototype.indexOf.call(angular.element(r).children(),e)}function Y(e,r,n){e&&(t.extra=n,e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+r.eventType,r))}function I(e,r,n){return angular.isFunction(e)?!!e.apply(n||this,r||t):!!e}var O=document,T=O.documentElement;return o.cleanEnviroment=function(){t.classesCache={},t.containersCtx={},t.containers={},t.mirror=void 0},o.shared=t,o};n.$inject=["$rootScope","$compile"],e.exports=n}).call(r,function(){return this}())}]);
//# sourceMappingURL=dragular.min.js.map
